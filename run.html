<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>代码在线运行</title>
  <style>
    .run-code-btn { position: fixed;top: 5px;right: 5px;background: #fff;font-size: 12px;border: 1px solid #ccc;padding: 2px 6px;margin: 0;z-index: 99999;color: #333;border-radius: 4px;opacity: 0.8; cursor: pointer; }
    .run-code-btn-1 { top: 34px; }
  </style>
</head>
<body>
  <script>
    const loadFromStorage = () => {
     const html = localStorage.getItem('dai-runHtml');
     if (html) {
       document.write(html);
       document.close();
       setTimeout(() => {
        const downBtn = document.createElement('button');
        downBtn.innerText = '下载Html';
        downBtn.className = 'run-code-btn';
        downBtn.onclick = () => downloadText(html, 'index.html')
        document.body.append(downBtn);
        const copyBtn = document.createElement('button');
        copyBtn.innerText = '复制Html';
        copyBtn.className = 'run-code-btn run-code-btn-1';
        copyBtn.onclick = () => navigator.clipboard.writeText(html)
        document.body.append(copyBtn);
       }, 500)
     } else {
       document.write('<h1 style="text-align: center; padding: 30px;">暂无可运行代码!</h1>');
     }
   };
   loadFromStorage();

   function download(blob, name) {
      if (window.navigator.msSaveOrOpenBlob) {
        navigator.msSaveBlob(blob, name)
      } else {
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = name;
        document.body.appendChild(link);
        link.click();
        URL.revokeObjectURL(url);
        setTimeout(() => link.remove(), 200);
      }
    }

    function downloadText(text, name) {
      download(new Blob([text], { type: 'text/plain;charset=utf-8' }), name)
    }

   let themesAll = ['prism', 'prism-coy', 'prism-dark', 'prism-okaidia', 'prism-tomorrow', 'prism-solarizedlight', 'prism-twilight',
      't-prism-a11y-dark', 't-prism-atom-dark', 't-prism-base16-ateliersulphurpool.light', 't-prism-cb', 't-prism-coldark-cold', 't-prism-coldark-dark', 
      't-prism-coy-without-shadows', 't-prism-darcula', 't-prism-dracula', 't-prism-duotone-dark', 't-prism-duotone-earth', 't-prism-duotone-forest',
      't-prism-duotone-light', 't-prism-duotone-sea', 't-prism-duotone-space', 't-prism-ghcolors', 't-prism-gruvbox-dark', 't-prism-gruvbox-light',
      't-prism-holi-theme', 't-prism-hopscotch', 't-prism-lucario', 't-prism-material-dark', 't-prism-material-light', 't-prism-material-oceanic',
      't-prism-night-owl', 't-prism-nord', 't-prism-one-dark', 't-prism-one-light', 't-prism-pojoaque', 't-prism-shades-of-purple', 
      't-prism-solarized-dark-atom', 't-prism-synthwave84', 't-prism-vs', 't-prism-vsc-dark-plus', 't-prism-xonokai', 't-prism-z-touch']
  </script>
</body>
</html>
